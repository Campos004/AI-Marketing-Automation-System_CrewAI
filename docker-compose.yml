version: "3.9"

services:
  app:
    image: crewai-marketing-app:latest
    build: .
    ports:
      - "8501:8501"
    env_file:
      - .env
    environment:
      LITELLM_BASE_URL: http://litellm:4000
    depends_on:
      - litellm

  litellm:
    image: ghcr.io/berriai/litellm:main
    command: ["litellm", "--proxy", "--port", "4000", "--host", "0.0.0.0"]
    ports:
      - "4000:4000"
    env_file:
      - .env